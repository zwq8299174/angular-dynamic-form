/*-----------------------
 * Site:  Angular dynamic form - controller
 * Author: Clearlove 7*
 * Updated: 2017-10-09 18:12
 * Version: 1.0.0
 * -----------------------*/
"use strict";define(["angular","require","nprogress","sweetalert"],function(angular,require,NProgress,swal){return{controller:function($scope,appApi,dataFormat){function getfilterData(id){var tmp;return $scope.filterModel.forEach(function(item,index){item.id==id&&(tmp=$.extend(!0,{},item),$scope.formModel=$.extend(!0,{},item))}),initFormModel(),tmp}function initFormModel(){$scope.formModel.items.forEach(function(item,index){item.conditions=[],1==index&&item.conditions.push({id:3,display:"近14天",val:"last14D"})})}NProgress.done(),$scope.formModel={},$scope.filterBarModel={},$scope.drapListSearch=function(name){return void 0==$scope.inputKey||""==$scope.inputKey||name.indexOf($scope.inputKey)>-1},$scope.itemClick=function(e,n,i){if(i==$scope.filterBarModel.id)return e.stopPropagation(),void e.preventDefault();$scope.filterBarModel.id=i,$scope.filterBarModel.name=n,$scope.filterData=getfilterData($scope.filterBarModel.id)},appApi.getProject(function(data){$scope.filterModel=data,$scope.filterBarModel.id=data[0].id,$scope.filterBarModel.name=data[0].name,$scope.filterData=getfilterData($scope.filterBarModel.id)}),console.log($scope.filterData),$scope.Query=function(){console.log($scope.formModel)}}}});